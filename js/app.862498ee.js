(function(e){function t(t){for(var n,a,r=t[0],i=t[1],s=t[2],u=0,p=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);d&&d(t);while(p.length)p.shift()();return c.push.apply(c,s||[]),l()}function l(){for(var e,t=0;t<c.length;t++){for(var l=c[t],n=!0,r=1;r<l.length;r++){var i=l[r];0!==o[i]&&(n=!1)}n&&(c.splice(t--,1),e=a(a.s=l[0]))}return e}var n={},o={app:0},c=[];function a(t){if(n[t])return n[t].exports;var l=n[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,a),l.l=!0,l.exports}a.m=e,a.c=n,a.d=function(e,t,l){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(l,n,function(t){return e[t]}.bind(null,n));return l},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var s=0;s<r.length;s++)t(r[s]);var d=i;c.push([0,"chunk-vendors"]),l()})({0:function(e,t,l){e.exports=l("56d7")},"10e1":function(e,t,l){},"56d7":function(e,t,l){"use strict";l.r(t);var n=l("7a23");const o={class:"gradient-background"},c=Object(n["createElementVNode"])("h1",{style:{"text-align":"center",position:"relative",top:"5%",color:"white"}}," 快速算钱小助手",-1),a={class:"container",style:{position:"relative",top:"10%"}},r={class:"content"},i={style:{"text-align":"center","align-items":"center"}},s=Object(n["createElementVNode"])("h3",null,"输入人员信息",-1),d={class:"container",style:{position:"relative",top:"15%"}},u={class:"content"},p=Object(n["createElementVNode"])("h3",{style:{"text-align":"center","align-items":"center"}},"输入商品信息",-1),b={style:{position:"relative",left:"10%"}},m=["onUpdate:modelValue"],O=["value"],j={style:{"text-align":"center","align-items":"center"}},h={class:"container",style:{position:"relative",top:"20%"}},f={class:"content"},y={style:{"text-align":"center","align-items":"center"}},v=Object(n["createElementVNode"])("h3",null,"输入最终支付价格",-1),V=Object(n["createElementVNode"])("h4",{style:{color:"red","font-size":"14px"}},"请确认所有购买人不为空，否则计算可能出错但无提示！",-1),g={key:0},k={style:{"text-align":"center","align-items":"center"}};function N(e,t,l,N,E,x){const w=Object(n["resolveComponent"])("van-field"),B=Object(n["resolveComponent"])("van-button"),C=Object(n["resolveComponent"])("van-dialog");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[c,Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",i,[s,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(E.people,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t,style:{display:"flex","align-items":"center"}},[Object(n["createVNode"])(w,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,label:"姓名",placeholder:"请输入姓名","label-align":"center",style:{flex:"1"}},null,8,["modelValue","onUpdate:modelValue"]),Object(n["createVNode"])(B,{icon:"cross",type:"danger",onClick:e=>x.deletePerson(t),size:"mini"},null,8,["onClick"])]))),128)),Object(n["createVNode"])(B,{icon:"plus",type:"primary",onClick:x.addPerson,size:"small"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("添加人员")]),_:1},8,["onClick"])])])]),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",u,[Object(n["createElementVNode"])("div",null,[p,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(E.items,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t,style:{position:"relative",top:"15%"}},[Object(n["createVNode"])(w,{modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,label:"商品名称",placeholder:"请输入商品名称","label-align":"center"},null,8,["modelValue","onUpdate:modelValue"]),Object(n["createVNode"])(w,{modelValue:e.price,"onUpdate:modelValue":t=>e.price=t,modelModifiers:{number:!0},label:"商品价格",type:"number",placeholder:"请输入商品价格","label-align":"center"},null,8,["modelValue","onUpdate:modelValue"]),Object(n["createElementVNode"])("label",b,[Object(n["createTextVNode"])(" 购买人: "),Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t=>e.buyer=t},[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(E.people,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("option",{key:t,value:e.name},Object(n["toDisplayString"])(e.name),9,O))),128))],8,m),[[n["vModelSelect"],e.buyer]]),Object(n["createVNode"])(B,{icon:"cross",type:"danger",onClick:e=>x.deleteItem(t),size:"mini",style:{position:"relative",left:"50%"}},null,8,["onClick"])])]))),128)),Object(n["createElementVNode"])("div",j,[Object(n["createVNode"])(B,{icon:"plus",type:"primary",onClick:x.addItem,size:"small",style:{position:"relative",top:"15%"}},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("添加商品")]),_:1},8,["onClick"])])])])]),Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",y,[v,V,Object(n["createVNode"])(w,{modelValue:E.discountedTotal,"onUpdate:modelValue":t[0]||(t[0]=e=>E.discountedTotal=e),modelModifiers:{number:!0},type:"number",label:"最终支付价格",placeholder:"请输入价格总和"},null,8,["modelValue"])]),E.totalShares.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",g,[Object(n["createVNode"])(C,{show:N.show,"onUpdate:show":t[1]||(t[1]=e=>N.show=e),title:"计算结果"},{default:Object(n["withCtx"])(()=>[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(E.totalShares,(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t,style:{"margin-left":"10%"}},[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.name)+" 需要支付的费用为: "+Object(n["toDisplayString"])(e.amount),1)]))),128))]),_:1},8,["show"])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",k,[Object(n["createVNode"])(B,{icon:"gold-coin-o",type:"primary",onClick:x.calculateShare,size:"small"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])("计算分摊价格")]),_:1},8,["onClick"])])])])])}l("14d9"),l("13d5");var E=l("6c43"),x={setup(){const e=Object(n["ref"])(!1);return{show:e}},data(){return{people:[],items:[],totalShares:[],discountedTotal:0}},methods:{deletePerson(e){this.people.splice(e,1)},deleteItem(e){this.items.splice(e,1)},addPerson(){this.people.push({name:""})},addItem(){this.items.push({name:"",price:0,buyer:""})},calculateShare(){const e=this.items.reduce((e,t)=>e+t.price,0);if(0===e)return void Object(E["a"])("商品总价为零，请输入有效价格");const t=this.discountedTotal/e;console.log(e);const l=this.items.reduce((e,l)=>{const n=l.buyer,o=l.price*t,c=e.findIndex(e=>e.name===n);return-1!==c?e[c].amount+=o:e.push({name:n,amount:o}),e},[]);this.totalShares=l,this.show=!0}}},w=(l("5f1b"),l("6b0d")),B=l.n(w);const C=B()(x,[["render",N]]);var S=C,P=l("f23a"),T=l("a136"),U=l("2e1b"),_=l("dda5"),M=l("1c96"),z=l("2e9e");l("157a");Object(n["createApp"])(S).use(P["a"]).use(T["a"]).use(U["a"]).use(_["a"]).use(M["a"]).use(z["a"]).mount("#app")},"5f1b":function(e,t,l){"use strict";l("10e1")}});
//# sourceMappingURL=app.862498ee.js.map